<!DOCTYPE html>
<html>
<head>
	<title></title>
</head>
<body>
<script type="text/javascript">
	var LinkedList = function(){
		this.length = 0;
		this.head = null;
	}

	var Node = function(elem){
		this.data = elem;
		this.next = null;
	}

	LinkedList.prototype.addFirst = function(elem){
		return this.add(0, elem);
	}

	LinkedList.prototype.add = function(index, elem){
		var node = new Node(elem);
		var curr = this.head;
		var prev;
		var i = 0;

		if(index >= 0 && index <= this.length){
			if(index === 0){
				node.next = curr;
				this.head = node;
			} else {
				while(i++ < index){
					prev = curr;
					curr = curr.next;
				}
				node.next = curr;
				prev.next = node;
			}
			this.length++;
			return LinkedList;
		}
		return false;		
	}

	LinkedList.prototype.addLast = function(elem){
		return this.add(this.length, elem);
	}

	LinkedList.prototype.removeFirst = function(){
		return this.remove(0);
	}

	LinkedList.prototype.remove = function(index){
		var curr = this.head;
		var prev;
		var i = 0;
		if(index === 0){
			this.head = curr.next;
		} else {
			while(i++ < index){
				prev = curr;
				curr = prev.next;
			}
			prev.next = curr.next;
		}
		curr.next = null;
		this.length--;
		return curr.data;
	}

	LinkedList.prototype.removeLast = function(){
		return this.remove(this.length-1);
	}

	LinkedList.prototype.reverse = function(){
		var curr = this.head;
		var next = null, prev = null;
		// console.log(curr);
		while(curr){
			next = curr.next;
			curr.next = prev;
			prev = curr;
			curr = next;
		}
		this.head = prev;
	}

	LinkedList.prototype.toString = function(){
		var curr = this.head;
		var str = '';
		while (curr){
			str += curr.data;
			str += " -> ";
			curr = curr.next;
		}
		return str;
	}

	var list = new LinkedList();
	list.addLast(1);
	list.addLast(2);
	list.add(1, 3);
	list.add(2, 4);
	list.addLast(5);
	list.add(3, 10);
	// list.remove(1);
	// list.remove(2);
	// list.removeLast();
	// list.removeFirst();
	console.log(list.toString());
	console.log("result: 1 -> 3 -> 4 -> 10 -> 2 -> 5 -> ");
	list.reverse();
	console.log(list.toString());
	console.log("result: 5 -> 2 -> 10 -> 4 -> 3 -> 1 -> ");
	list.reverse();
	console.log(list.toString());
	console.log("result: 1 -> 3 -> 4 -> 10 -> 2 -> 5 -> ");


</script>
</body>
</html>